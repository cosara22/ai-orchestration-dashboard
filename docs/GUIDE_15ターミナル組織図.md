# 15ターミナル大規模オーケストレーション組織図

15個のClaude Codeターミナルによる大規模並列開発体制

---

## 全体組織図

```
                              ┌─────────────────────────────────────┐
                              │          Human Operator             │
                              │     (意思決定・方針指示・承認)        │
                              └──────────────────┬──────────────────┘
                                                 │
                              ┌──────────────────▼──────────────────┐
                              │       AOD Dashboard (port 3002)      │
                              │   統合監視・タスク管理・コンダクター   │
                              └──────────────────┬──────────────────┘
                                                 │
                 ┌───────────────────────────────┼───────────────────────────────┐
                 │                               │                               │
    ┌────────────▼────────────┐   ┌──────────────▼──────────────┐   ┌───────────▼───────────┐
    │     Team Alpha          │   │       Team Beta             │   │     Team Gamma        │
    │   [Project A - WebApp]  │   │  [Project B - MobileAPI]    │   │  [Project C - ML]     │
    │   Lead: T1              │   │  Lead: T6                   │   │  Lead: T11            │
    └────────────┬────────────┘   └──────────────┬──────────────┘   └───────────┬───────────┘
                 │                               │                               │
    ┌────────────┼────────────┐   ┌──────────────┼──────────────┐   ┌───────────┼───────────┐
    │   │   │   │   │         │   │   │   │   │   │             │   │   │   │   │           │
   T1  T2  T3  T4  T5        T6  T7  T8  T9  T10              T11 T12 T13 T14 T15
```

---

## チーム構成詳細

### Team Alpha (T1-T5): Project A - WebApp

```
┌─────────────────────────────────────────────────────────────────┐
│ Team Alpha - Web Application Development                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌───────────┐                                                  │
│  │ T1: Lead  │ ← チームリード・設計・レビュー・調整             │
│  │ Architect │                                                  │
│  └─────┬─────┘                                                  │
│        │                                                         │
│  ┌─────┴─────────────────────────────────────┐                  │
│  │                                           │                  │
│  ▼                                           ▼                  │
│ ┌──────────────────────┐  ┌──────────────────────┐              │
│ │ Backend Squad        │  │ Frontend Squad       │              │
│ │ T2: API開発          │  │ T4: UI実装          │              │
│ │ T3: DB/インフラ      │  │ T5: テスト/QA       │              │
│ └──────────────────────┘  └──────────────────────┘              │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

| Terminal | Role | 主な担当 | 能力タグ |
|----------|------|---------|---------|
| **T1** | Lead/Architect | 設計、レビュー、依存解決 | `architecture`, `review` |
| **T2** | Backend Dev | REST API、ビジネスロジック | `backend`, `typescript`, `api` |
| **T3** | DB/Infra | スキーマ設計、マイグレーション | `database`, `sql`, `docker` |
| **T4** | Frontend Dev | React UI、状態管理 | `frontend`, `react`, `nextjs` |
| **T5** | Test/QA | E2E、ユニットテスト | `testing`, `playwright` |

---

### Team Beta (T6-T10): Project B - Mobile API

```
┌─────────────────────────────────────────────────────────────────┐
│ Team Beta - Mobile Backend API Development                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌───────────┐                                                  │
│  │ T6: Lead  │ ← APIアーキテクト・OpenAPI設計                   │
│  │ API Arch  │                                                  │
│  └─────┬─────┘                                                  │
│        │                                                         │
│  ┌─────┼─────────────────┬───────────────────┐                  │
│  │     │                 │                   │                  │
│  ▼     ▼                 ▼                   ▼                  │
│ ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐             │
│ │ T7      │  │ T8      │  │ T9      │  │ T10     │             │
│ │ Auth    │  │ Core    │  │ Notify  │  │ Test    │             │
│ │ Service │  │ Service │  │ Service │  │ /CI     │             │
│ └─────────┘  └─────────┘  └─────────┘  └─────────┘             │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

| Terminal | Role | 主な担当 | 能力タグ |
|----------|------|---------|---------|
| **T6** | Lead/API Arch | OpenAPI設計、サービス間調整 | `api`, `architecture` |
| **T7** | Auth Service | 認証/認可、JWT、OAuth | `authentication`, `security` |
| **T8** | Core Service | ビジネスロジック、CRUD | `backend`, `go`, `database` |
| **T9** | Notification | Push通知、メール、WebSocket | `backend`, `messaging` |
| **T10** | Test/CI | API統合テスト、CI/CD | `testing`, `ci-cd` |

---

### Team Gamma (T11-T15): Project C - ML Pipeline

```
┌─────────────────────────────────────────────────────────────────┐
│ Team Gamma - Machine Learning Pipeline                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌───────────┐                                                  │
│  │ T11: Lead │ ← MLアーキテクト・パイプライン設計               │
│  │ ML Arch   │                                                  │
│  └─────┬─────┘                                                  │
│        │                                                         │
│  ┌─────┼─────────────────┬───────────────────┐                  │
│  │     │                 │                   │                  │
│  ▼     ▼                 ▼                   ▼                  │
│ ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐             │
│ │ T12     │  │ T13     │  │ T14     │  │ T15     │             │
│ │ Data    │  │ Model   │  │ Infra   │  │ Eval    │             │
│ │ Engineer│  │ Engineer│  │ /MLOps  │  │ /Monitor│             │
│ └─────────┘  └─────────┘  └─────────┘  └─────────┘             │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

| Terminal | Role | 主な担当 | 能力タグ |
|----------|------|---------|---------|
| **T11** | Lead/ML Arch | パイプライン設計、モデル選定 | `ml`, `architecture` |
| **T12** | Data Engineer | ETL、前処理、特徴量設計 | `python`, `data`, `sql` |
| **T13** | Model Engineer | モデル実装、学習、チューニング | `python`, `ml`, `pytorch` |
| **T14** | MLOps | デプロイ、サービング、インフラ | `docker`, `kubernetes`, `mlops` |
| **T15** | Eval/Monitor | 評価、監視、A/Bテスト | `testing`, `monitoring` |

---

## コミュニケーションフロー

```
┌────────────────────────────────────────────────────────────────────────┐
│                          Communication Matrix                           │
├────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Human ←──────────────────→ AOD Dashboard ←─────────────────→ All T1-15 │
│         エスカレーション         統合監視         タスク/進捗             │
│         重要決定承認                                                     │
│                                                                         │
│  ─────────────────────────────────────────────────────────────────────  │
│                                                                         │
│  T1 (Alpha Lead) ←────→ T6 (Beta Lead) ←────→ T11 (Gamma Lead)         │
│                  クロスプロジェクト調整・依存関係解決                     │
│                                                                         │
│  ─────────────────────────────────────────────────────────────────────  │
│                                                                         │
│  Team Alpha内:  T1 ←→ T2,T3,T4,T5  (チーム内同期)                       │
│  Team Beta内:   T6 ←→ T7,T8,T9,T10 (チーム内同期)                       │
│  Team Gamma内:  T11 ←→ T12,T13,T14,T15 (チーム内同期)                   │
│                                                                         │
└────────────────────────────────────────────────────────────────────────┘
```

---

## AODダッシュボード表示

### プロジェクト別ビュー

```
┌─────────────────────────────────────────────────────────────────────────┐
│ [All Projects ▼]  Active: 15 agents  Tasks: 47 queued  Locks: 12 active │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Project A - WebApp              Progress: ████████░░ 78%            │ │
│ │ T1(🟢) T2(🟢) T3(🟡) T4(🟢) T5(🟢)                                   │ │
│ │ Tasks: 12 pending, 8 in progress, 23 completed                      │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Project B - Mobile API          Progress: ██████░░░░ 56%            │ │
│ │ T6(🟢) T7(🟢) T8(🔴) T9(🟢) T10(🟡)                                  │ │
│ │ Tasks: 18 pending, 5 in progress, 14 completed                      │ │
│ │ ⚠️ T8: ブロッカー発生 - DBマイグレーション待ち                       │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Project C - ML Pipeline         Progress: ████░░░░░░ 35%            │ │
│ │ T11(🟢) T12(🟢) T13(🟢) T14(🟢) T15(🟢)                               │ │
│ │ Tasks: 25 pending, 4 in progress, 8 completed                       │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘

状態: 🟢 Active  🟡 Waiting  🔴 Blocked  ⚪ Idle
```

---

## タスク割り当て戦略

### 自動割り当てルール

```python
# 優先度計算
priority_score = (
    task.priority * 1000           # 優先度ウェイト
    + waiting_time_minutes         # 待機時間ボーナス
    + capability_match_score * 50  # 能力マッチ度
    - agent.current_load * 100     # 現在の負荷ペナルティ
)
```

### チーム間タスク移動

緊急時はプロジェクト間でエージェントを再配置：

```
例: Project B が遅延 → T5(Alpha/Test) を一時的に Beta へ移動
    POST /api/conductor/reallocate
    { "agent_id": "T5", "to_project": "project-b" }
```

---

## 15ターミナル同時運用のヒント

| 課題 | 対策 |
|------|------|
| 競合 | ファイルロック必須化、チーム単位で担当ディレクトリ分離 |
| 通信過多 | チームリード経由でクロスチーム調整 |
| コンテキスト断片化 | 共有コンテキストの積極活用 |
| 監視困難 | ダッシュボードでプロジェクト切替、アラート設定 |
| リソース競合 | 時間帯でプロジェクト優先度を調整（午前=A優先など） |
